- route:
    id: route-1404
    description: RocketChat to Matrix
    from:
      id: from-3272
      description: RocketChat
      uri: platform-http
      parameters:
        path: /webhook
      steps:
        - convertVariableTo:
            name: rocketchat
            type: String
        - filter:
            id: filter-3589
            steps:
              - stop:
                  id: stop-3589
            disabled: false
            expression:
              jq:
                expression: .text | test("\\*.*@.*:\\*")
                source: rocketchat
        - step:
            id: kaoto-datamapper-5ca3cd77
            steps:
              - to:
                  id: kaoto-datamapper-xslt-2742
                  uri: xslt-saxon:kaoto-datamapper-5ca3cd77.xsl
                  parameters:
                    failOnNullBody: false
        - log:
            id: log-1739
            message: ${body}
        - to:
            description: Matrix
            uri: kamelet
            parameters:
              room: "{{matrix.room}}"
              templateId: matrix-sink
              token: "{{matrix.token}}"
      variableReceive: rocketchat
