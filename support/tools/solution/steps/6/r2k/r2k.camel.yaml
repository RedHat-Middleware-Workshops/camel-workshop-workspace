- route:
    id: route-1404
    description: RocketChat to Kafka
    from:
      id: from-3272
      description: RocketChat
      uri: platform-http
      parameters:
        path: /webhook
      steps:
        - convertVariableTo:
            name: rocketchat
            type: String
        - filter:
            id: filter-3589
            steps:
              - stop:
                  id: stop-3589
            disabled: false
            expression:
              jq:
                expression: .text | test("\\*.*@.*:\\*")
                source: rocketchat
        - step:
            id: kaoto-datamapper-eacd7d5c
            steps:
              - to:
                  id: kaoto-datamapper-xslt-8238
                  uri: xslt-saxon:kaoto-datamapper-eacd7d5c.xsl
                  parameters:
                    failOnNullBody: false
        - log:
            message: ${body}
        - to:
            uri: kafka
            parameters:
              brokers: my-cluster-kafka-bootstrap:9092
              topic: myroom
      variableReceive: rocketchat
